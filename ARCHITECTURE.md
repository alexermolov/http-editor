# HTTP Request Editor - Структура проекта

## Архитектура

Плагин разработан на TypeScript с модульной архитектурой для лучшей поддерживаемости и расширяемости.

## Структура файлов

```
vs-code/
├── src/                          # Исходный код TypeScript
│   ├── extension.ts              # Точка входа расширения
│   ├── types/
│   │   └── index.ts              # Определения типов и интерфейсов
│   ├── parser/
│   │   └── httpParser.ts         # Парсер .http файлов
│   ├── http/
│   │   └── httpClient.ts         # HTTP клиент для отправки запросов
│   └── webview/
│       ├── webviewProvider.ts    # Управление WebView панелью
│       └── webviewContent.ts     # Генератор HTML контента
├── out/                          # Скомпилированный JavaScript (генерируется)
├── .vscode/
│   ├── launch.json               # Конфигурация отладки
│   └── tasks.json                # Задачи сборки
├── package.json                  # Манифест расширения
├── tsconfig.json                 # Конфигурация TypeScript
├── test.http                     # Тестовый .http файл
└── README.md                     # Документация

```

## Модули

### 1. **extension.ts** - Точка входа
- Активация и деактивация расширения
- Регистрация команд
- Инициализация провайдеров

### 2. **types/index.ts** - Типы данных
- `HttpRequest` - структура HTTP запроса
- `HttpResponse` - структура HTTP ответа
- `HttpMethod` - поддерживаемые HTTP методы
- Интерфейсы сообщений между WebView и расширением

### 3. **parser/httpParser.ts** - Парсер файлов
- `parse()` - парсинг .http файла в массив запросов
- `serialize()` - сериализация запросов обратно в .http формат
- Поддержка комментариев, заголовков, тела запроса

### 4. **http/httpClient.ts** - HTTP клиент
- `send()` - отправка HTTP запроса
- Использует axios для HTTP запросов
- Обработка ошибок и таймаутов
- Автоматическое определение Content-Type

### 5. **webview/webviewProvider.ts** - WebView провайдер
- Управление жизненным циклом WebView панели
- Обработка сообщений от WebView
- Загрузка и сохранение файлов
- Координация между модулями

### 6. **webview/webviewContent.ts** - Генератор UI
- Генерация HTML интерфейса
- Встроенные CSS стили (VS Code темы)
- JavaScript логика для UI взаимодействия

## Функциональность

### Основные возможности:
1. **Просмотр запросов** - список всех HTTP запросов из файла
2. **Создание запросов** - добавление новых запросов
3. **Редактирование** - изменение метода, URL, заголовков, тела
4. **Удаление запросов** - удаление выбранного запроса
5. **Отправка запросов** - выполнение HTTP запроса
6. **Просмотр ответа** - отображение статуса, заголовков, тела ответа
7. **Сохранение** - запись изменений обратно в .http файл

### Интерфейс:
- **Левая панель** - список всех запросов с методами
- **Верхняя панель** - имя, метод, URL, кнопка отправки
- **Вкладки**:
  - Headers - редактирование HTTP заголовков
  - Body - редактирование тела запроса
  - Response - просмотр ответа сервера

### Поддерживаемые HTTP методы:
- GET
- POST
- PUT
- DELETE
- PATCH
- HEAD
- OPTIONS

## Разработка

### Установка зависимостей:
```bash
npm install
```

### Компиляция:
```bash
npm run compile
```

### Компиляция в режиме watch:
```bash
npm run watch
```

### Запуск расширения:
1. Открыть проект в VS Code
2. Нажать F5 или Run > Start Debugging
3. Откроется новое окно VS Code с установленным расширением

### Тестирование:
1. Открыть файл `test.http`
2. Правой кнопкой мыши > "Open with HTTP Editor"
3. Проверить все функции

## Формат .http файлов

```http
### Request Name
METHOD URL
Header-Name: Header-Value
Another-Header: Value

{
  "body": "content"
}

### Another Request
GET https://api.example.com/endpoint
```

Разделитель запросов: `###` (три знака решетки)

## Технологии

- **TypeScript** - типизированный JavaScript
- **VS Code Extension API** - API для расширений
- **Axios** - HTTP клиент
- **WebView API** - встроенный браузер для UI

## Преимущества архитектуры

1. **Модульность** - каждый модуль отвечает за свою задачу
2. **Типизация** - TypeScript предотвращает ошибки на этапе разработки
3. **Расширяемость** - легко добавить новые функции
4. **Тестируемость** - модули можно тестировать независимо
5. **Поддерживаемость** - чистый и организованный код
